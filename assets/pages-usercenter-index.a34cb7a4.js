import{d as e,f as t,g as s,w as l,h as a,i as r,H as o,I as i,j as n,n as u,l as c,N as d,p,c as f,k as m,J as _,$ as h,a0 as g,r as y,E as v,F as b,G as k,q as w,a1 as x,a2 as I,V as N,W as S}from"./index-1726c296.js";import{b as T,e as C,u as $,_ as j,c as A,k as E,d as U,o as D,m as P,f as G,h as q,l as F,i as L,j as B}from"./delay.70aa4fda.js";import{_ as H}from"./wd-img.0ff63189.js";import"./index.9de4576a.js";const O=Symbol("wd-cell-group"),z=j(e({name:"wd-cell-group",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...T,title:String,value:String,useSlot:C(!1),border:C(!1)},setup(e){const f=e,{linkChildren:m}=$(O);return m({props:f}),(e,f)=>{const m=d,_=p;return t(),s(_,{class:u(["wd-cell-group",e.border?"is-border":"",e.customClass]),style:c(e.customStyle)},{default:l((()=>[e.title||e.value||e.useSlot?(t(),s(_,{key:0,class:"wd-cell-group__title"},{default:l((()=>[a("左侧标题"),r(_,{class:"wd-cell-group__left"},{default:l((()=>[e.title?(t(),s(m,{key:0},{default:l((()=>[o(i(e.title),1)])),_:1})):n(e.$slots,"title",{key:1},void 0,!0)])),_:3}),a("右侧标题"),r(_,{class:"wd-cell-group__right"},{default:l((()=>[e.value?(t(),s(m,{key:0},{default:l((()=>[o(i(e.value),1)])),_:1})):n(e.$slots,"value",{key:1},void 0,!0)])),_:3})])),_:3})):a("v-if",!0),r(_,{class:"wd-cell-group__body"},{default:l((()=>[n(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0237f68a"]]);const W=Symbol("wd-form");E(Object),C(!0);const M=j(e({name:"wd-cell",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...T,title:String,value:U(""),icon:String,label:String,isLink:C(!1),to:String,replace:C(!1),clickable:C(!1),size:String,border:Boolean,titleWidth:String,center:C(!1),required:C(!1),vertical:C(!1),prop:String,rules:D(),customIconClass:P(""),customLabelClass:P(""),customValueClass:P(""),customTitleClass:P("")},emits:["click"],setup(e,{emit:d}){const y=e,v=function(){const{parent:e,index:t}=A(O);return{border:f((()=>e&&e.props.border&&t.value))}}(),b=f((()=>_(v.border.value)?v.border.value:y.border)),{parent:k}=A(W),w=f((()=>k&&y.prop&&k.errorMessages&&k.errorMessages[y.prop]?k.errorMessages[y.prop]:"")),x=f((()=>{let e=!1;if(k&&k.props.rules){const t=k.props.rules;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&s===y.prop&&Array.isArray(t[s])&&(e=t[s].some((e=>e.required)))}return y.required||y.rules.some((e=>e.required))||e}));function I(){const e=y.to;(y.clickable||y.isLink)&&d("click"),e&&y.isLink&&(y.replace?h({url:e}):g({url:e}))}return(e,d)=>{const f=G,_=p;return t(),s(_,{class:u(["wd-cell",m(b)?"is-border":"",e.size?"is-"+e.size:"",e.center?"is-center":"",e.customClass]),style:c(e.customStyle),"hover-class":e.isLink||e.clickable?"is-hover":"none","hover-stay-time":"70",onClick:I},{default:l((()=>[r(_,{class:u(["wd-cell__wrapper",e.vertical?"is-vertical":""])},{default:l((()=>[r(_,{class:u(["wd-cell__left",m(x)?"is-required":""]),style:c(e.titleWidth?"min-width:"+e.titleWidth+";max-width:"+e.titleWidth+";":"")},{default:l((()=>[a("左侧icon部位"),e.icon?(t(),s(f,{key:0,name:e.icon,"custom-class":`wd-cell__icon  ${e.customIconClass}`},null,8,["name","custom-class"])):n(e.$slots,"icon",{key:1},void 0,!0),r(_,{class:"wd-cell__title"},{default:l((()=>[a("title BEGIN"),e.title?(t(),s(_,{key:0,class:u(e.customTitleClass)},{default:l((()=>[o(i(e.title),1)])),_:1},8,["class"])):n(e.$slots,"title",{key:1},void 0,!0),a("title END"),a("label BEGIN"),e.label?(t(),s(_,{key:2,class:u(`wd-cell__label ${e.customLabelClass}`)},{default:l((()=>[o(i(e.label),1)])),_:1},8,["class"])):n(e.$slots,"label",{key:3},void 0,!0),a("label END")])),_:3})])),_:3},8,["class","style"]),a("right content BEGIN"),r(_,{class:"wd-cell__right"},{default:l((()=>[r(_,{class:"wd-cell__body"},{default:l((()=>[a("文案内容"),r(_,{class:u(`wd-cell__value ${e.customValueClass}`)},{default:l((()=>[n(e.$slots,"default",{},(()=>[o(i(e.value),1)]),!0)])),_:3},8,["class"]),a("箭头"),e.isLink?(t(),s(f,{key:0,"custom-class":"wd-cell__arrow-right",name:"arrow-right"})):n(e.$slots,"right-icon",{key:1},void 0,!0)])),_:3}),m(w)?(t(),s(_,{key:0,class:"wd-cell__error-message"},{default:l((()=>[o(i(m(w)),1)])),_:1})):a("v-if",!0)])),_:3}),a("right content END")])),_:3},8,["class"])])),_:3},8,["class","style","hover-class"])}}}),[["__scopeId","data-v-37a71456"]]),V={avatarUrl:"https://we-retail-static-1300977798.cos.ap-guangzhou.myqcloud.com/retail-ui/components-exp/avatar/avatar-1.jpg",nickName:"哈瓦纳 🌟",phoneNumber:"13438358888",gender:2},J=[{num:2,name:"积分",type:"point"},{num:10,name:"优惠券",type:"coupon"}],K=[{orderNum:1,tabType:5},{orderNum:1,tabType:10},{orderNum:1,tabType:40},{orderNum:0,tabType:0}],Q={servicePhone:"4006336868",serviceTimeDuration:"每周三至周五 9:00-12:00  13:00-15:00"},R=()=>({userInfo:V,countsData:J,orderTagInfos:K,customerServiceInfo:Q});function X(){return q(200).then((()=>R()))}const Y=j(e({__name:"index",props:{currAuthStep:{type:Number,default:1},userInfo:{type:Object,default:()=>{}},isNeedGetUserInfo:{type:Boolean,default:!1}},emits:["gotoUserEditPage"],setup(e,{emit:u}){const c=y("https://cdn-we-retail.ym.tencent.com/miniapp/usercenter/icon-user-center-avatar@2x.png");function d(){u("gotoUserEditPage")}return(u,f)=>{const _=H,h=p;return t(),v(b,null,[a(" user-center-header fixed top-0 left-0 box-border w-full h-480 p-x-3 header round header__name header__transparent v-else "),r(h,{class:"user-center-header fixed top-0 left-0 box-border w-full h-480 p-x-3"},{default:l((()=>[a(" 未登录的情况 "),1===e.currAuthStep?(t(),s(h,{key:0,class:"header",onClick:d},{default:l((()=>[r(_,{width:"96rpx",height:"96rpx",round:"",src:e.userInfo.avatarUrl||m(c),class:"round"},null,8,["src"]),r(h,{class:"header__name"},{default:l((()=>[o(i("请登录"))])),_:1})])),_:1})):a("v-if",!0),a(" 已登录但未授权用户信息情况 "),2===e.currAuthStep?(t(),s(h,{key:1,class:"header"},{default:l((()=>[r(_,{width:"96rpx",height:"96rpx",round:"",src:e.userInfo.avatarUrl||m(c),class:"round"},null,8,["src"]),r(h,{class:"header__name"},{default:l((()=>[o(i(e.userInfo.nickName||"微信用户"),1)])),_:1}),a(" 需要授权用户信息，通过slot添加弹窗 "),e.isNeedGetUserInfo?(t(),s(h,{key:0,class:"header__transparent"},{default:l((()=>[n(u.$slots,"getUserInfo",{},void 0,!0)])),_:3})):(t(),v(b,{key:1},[a(" 不需要授权用户信息，仍然触发gotoUserEditPage事件 "),r(h,{class:"header__transparent v-else",onClick:d})],2112))])),_:3})):a("v-if",!0),a(" 已登录且已经授权用户信息的情况 "),3===e.currAuthStep?(t(),s(h,{key:2,class:"header",onClick:d},{default:l((()=>[r(_,{width:"96rpx",height:"96rpx",round:"",src:e.userInfo.avatarUrl||m(c),class:"round"},null,8,["src"]),r(h,{class:"header__name"},{default:l((()=>[o(i(e.userInfo.nickName||"微信用户"),1)])),_:1})])),_:1})):a("v-if",!0)])),_:3})],2112)}}}),[["__scopeId","data-v-9696e405"]]),Z=e({__name:"index",props:{orderTagInfos:{type:Array,default:()=>[]},title:{type:String,default:"我的订单"},desc:{type:String,default:"全部订单"},isTop:{type:Boolean,default:!0}},emits:["onClickTop","onClickItem"],setup(e,{emit:n}){function u(e){n("onClickItem",e.currentTarget.dataset.item)}function c(){n("onClickTop",{})}return(n,d)=>{const f=M,m=z,_=G,h=F,g=p;return t(),v(b,null,[a(" mb-3 rounded-t-2 bg-white overflow-hidden is-link w-full h-164 flex order-group__item flex-auto flex-items-center flex-justify-center flex-col mb-2 w-56 h-56 relative color-_wn_FF4646 text-24 line-height-4 text-gray-600 "),r(g,{class:"mb-3 rounded-t-2 bg-white overflow-hidden"},{default:l((()=>[e.isTop?(t(),s(m,{key:0,border:!1},{default:l((()=>[r(f,{title:e.title,value:e.desc,"is-link":"",onClick:c,class:"is-link"},null,8,["title","value"])])),_:1})):a("v-if",!0),r(g,{class:"overflow-hidden w-full h-164 flex bg-white"},{default:l((()=>[(t(!0),v(b,null,k(e.orderTagInfos,((e,a)=>(t(),s(g,{class:"order-group__item overflow-hidden flex flex-auto flex-items-center flex-justify-center flex-col",key:a,onClick:u},{default:l((()=>[r(g,{class:"mb-2 w-56 h-56 relative"},{default:l((()=>[r(h,{"model-value":e.orderNum,max:99,color:"#FF4646",class:"color-_wn_FF4646"},{default:l((()=>[r(_,{name:e.iconName,size:"56rpx",customStyle:"background-image: -webkit-linear-gradient(90deg, #6a6a6a 0%,#929292 100%);-webkit-background-clip: text;-webkit-text-fill-color: transparent;"},null,8,["name"])])),_:2},1032,["model-value"])])),_:2},1024),r(g,{class:"text-24 line-height-4 text-gray-600"},{default:l((()=>[o(i(e.title),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})],2112)}}}),ee=j(e({__name:"index",setup(e){const{show:o}=L(),i=[[{title:"收货地址",tit:"",url:"",type:"address"},{title:"优惠券",tit:"",url:"",type:"coupon"},{title:"积分",tit:"",url:"",type:"point"}],[{title:"帮助中心",tit:"",url:"",type:"help-center"},{title:"客服热线",tit:"",url:"",type:"service",icon:"service"}]],n=[{title:"待付款",iconName:"wallet",orderNum:0,tabType:5,status:1},{title:"待发货",iconName:"clear",orderNum:0,tabType:10,status:1},{title:"待收货",iconName:"a-precisemonitor",orderNum:0,tabType:40,status:1},{title:"待评价",iconName:"tips",orderNum:0,tabType:60,status:1},{title:"退款/售后",iconName:"money-circle",orderNum:0,tabType:0,status:1}],u=w({showMakePhone:!1,userInfo:{avatarUrl:"",nickName:"正在登录...",phoneNumber:""},menuData:i,orderTagInfos:n,customerServiceInfo:{},currAuthStep:1,showKefu:!0,versionNo:""});function c({currentTarget:e}){const{type:t}=e.dataset;switch(t){case"address":o({msg:"你点击了地址菜单"});break;case"service":case"help-center":o({msg:"你点击了帮助中心"});break;case"point":o({msg:"你点击了积分菜单"});break;case"coupon":o({msg:"你点击了优惠券菜单"});break;default:o({msg:"未知跳转"})}}function d(e){const t=e.detail.tabType;g(0===t?{url:"/pages/order/after-service-list/index"}:{url:`/pages/order/order-list/index?status=${t}`})}function f(){g({url:"/pages/order/order-list/index"})}return x((()=>{X().then((e=>{null==i||i[0].forEach((t=>{e.countsData.forEach((e=>{e.type===t.type&&(t.tit=e.num)}))}));const t=n.map(((t,s)=>({...t,...e.orderTagInfos[s]})));u.userInfo=e.userInfo,u.menuData=e.menuData,u.orderTagInfos=t,u.customerServiceInfo=e.customerServiceInfo,u.currAuthStep=2,I()}))})),(e,o)=>{const n=p,_=G,h=M,g=z,y=N(S("page-wraper"),B);return t(),v(b,null,[a(" isPhoneHide relative p-x-4 pt-42 mb-2 rounded-2 overflow-hidden mb-3 is-link "),r(y,null,{default:l((()=>[r(Y,{"user-info":m(u).userInfo,isPhoneHide:"",currAuthStep:m(u).currAuthStep,class:"isPhoneHide"},null,8,["user-info","currAuthStep"]),r(n,{class:"relative p-x-4 pt-42"},{default:l((()=>[r(n,{class:"mb-2"},{default:l((()=>[r(Z,{orderTagInfos:m(u).orderTagInfos,onOnClickTop:f,onOnClickItem:d},null,8,["orderTagInfos"])])),_:1}),(t(),v(b,null,k(i,((e,o)=>r(n,{key:o,class:"rounded-2 overflow-hidden mb-3"},{default:l((()=>[r(g,{border:!1},{default:l((()=>[(t(!0),v(b,null,k(e,((e,r)=>(t(),s(h,{key:r,title:e.title,value:e.tit,"is-link":"",onClick:c,class:"is-link"},{default:l((()=>[e.icon?(t(),s(_,{key:0,name:e.icon},null,8,["name"])):a("v-if",!0)])),_:2},1032,["title","value"])))),128))])),_:2},1024)])),_:2},1024))),64))])),_:1})])),_:1})],2112)}}}),[["__scopeId","data-v-bee49291"]]);export{ee as default};
